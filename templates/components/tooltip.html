{% load i18n %}
<span class="relative inline-block" x-data="{ open: false }">
  <button type="button"
          @click="open = !open"
          @click.outside="open = false"
          class="inline-flex h-4 w-4 items-center justify-center rounded-full bg-gray-200 text-xs text-text-muted hover:bg-gray-300"
          aria-describedby="tooltip-{{ id }}">
    ?
  </button>
  <!-- Desktop: popover -->
  <div x-show="open" x-transition
       id="tooltip-{{ id }}"
       role="tooltip"
       class="absolute bottom-full left-1/2 z-40 mb-2 hidden w-64 -translate-x-1/2 rounded-lg border border-border bg-bg-card p-3 text-sm shadow-lg md:block">
    {{ text }}
  </div>
  <!-- Mobile: bottom sheet -->
  <div x-show="open" x-transition
       class="fixed inset-x-0 bottom-0 z-50 rounded-t-2xl border-t border-border bg-bg-card p-5 shadow-lg md:hidden">
    <div class="mx-auto mb-3 h-1 w-10 rounded-full bg-gray-300"></div>
    <p class="text-sm text-text">{{ text }}</p>
    <button @click="open = false" class="mt-3 w-full rounded-lg bg-primary-600 py-2 text-sm font-medium text-white">
      {% trans "Got it" %}
    </button>
  </div>
  <div x-show="open" class="fixed inset-0 z-40 bg-black/20 md:hidden" @click="open = false"></div>
</span>
